controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    speed += 1
    if (speed > 6) {
        speed = 6
    }
    setSpeed(speed)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    setSpeed(30)
    pause(1000)
    setSpeed(speed)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(assets.image`zap`, Enterprise, 0, -300)
    music.play(music.melodyPlayable(music.pewPew), music.PlaybackMode.UntilDone)
    projectile.setFlag(SpriteFlag.AutoDestroy, true)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Enterprise.setVelocity(-20, 0)
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    Enterprise.setVelocity(0, 0)
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    Enterprise.setVelocity(0, 0)
})
function startStars (spd: number) {
    scene.setBackgroundColor(15)
    scroller.setLayerImage(scroller.BackgroundLayer.Layer0, img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..........1.....................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ........................................5.......................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................................................................5...................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ........................................................1.......................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ...........................................................................................................1....................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ........................................1.....................................1.................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .........................2......................................................................................................................................
        ...................................................................................5............................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..........................................................a.........................................................................................2...........
        ................................................................................................................................................................
        ............................................................................................................................a...................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .............................................................................................................................1..................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ........................................a.......................................................................................................................
        ....................................1............................1..............................................................................................
        ....................................1............................1..............................................................................................
        ....................................1............................1..............................................................................................
        ....................................1...........................................................................................................................
        ................................................................................................................................................................
        .........................................................................................................1......................................................
        .........................................................................................................1......................................................
        .........................................................................................................1......................................................
        ..........................................................................................................1.....................................................
        ................................................................................................................................................................
        .......................................................................................................................................................2........
        ................................................................................................................................................................
        ................................................................................................................................................................
        ....................2...........................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .............................................................5..................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ...........5....................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................................................................................................11..................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................................a...................................................................................................................
        ..................................................................................................................................1111..........................
        ..........................................................................................................1.....................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..................................................1.............................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................5.........................................................................2.....................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ......................................................................................................................................................5.........
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    scroller.scrollBackgroundWithSpeed(0, spd * 30, scroller.BackgroundLayer.Layer0)
    scroller.setLayerImage(scroller.BackgroundLayer.Layer1, img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..............................................................................................................1.................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ....................1.............................................2.............................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .................................................................................................................................................2..............
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................................................................1..........................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ...........6....................................................................................................................................................
        ................................................................................................................................................................
        .................................1..............................................................................................................................
        .........................................................1......................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ......................................6.........................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..................8.............................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................................................................2..........................................
        ................................................................................................................................................................
        ...........................................................................................6....................................................................
        ....................................................................................................8...........................................................
        ................................................................................................................................................................
        ................................................................2...............................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .........................................1......................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .............2..................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ...................................................................................................................................................8............
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .................................................................................6....................................................1.........................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................1.....................................................................................8....................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..........................1.....................................................................................................................................
        .........................1.............................................................................1........................................................
        ................................................................................................................................................................
        .......................................................................................................................................................2........
        .....................................................1..........................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    scroller.scrollBackgroundWithSpeed(0, spd * 15, scroller.BackgroundLayer.Layer1)
    scroller.setLayerImage(scroller.BackgroundLayer.Layer3, img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .......5........................................................................................................................................................
        ................................................................................................................................................................
        .......................7........................................................................................................................................
        ........................................................................5.........................................................................5.............
        ................................................................................................................................................................
        ..............................1.................................................................................................................................
        ...............................1................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..................................................................5.............................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .........................................................1......................................................................................................
        ......................7.........................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................5.....................................................................................7.........................................
        ............................................................7...................................................................................................
        ..................................................3.............................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .....................................................................................................1..........................................................
        .....................................................................................................7..........................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..............................................................................1.................................................................................
        ...........................................................................................................................................7....................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................1...................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .............................................................1..................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .......................................................................................................5........................................................
        ..........................................................7.....................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..........................................................................7.....................................................................................
        ....................................................................................................................................................5...........
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .........................1.............................................5........................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        .................................................................................1..............................................................................
        ................................................................................1...............................................................................
        ................................................................................1...............................................................................
        ................................................................................1...............................................................................
        3...............................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..................7.............................................................................................................................................
        7......................................................................................................................................7........................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................5...................................................................................................................................
        ............................5...................................................................................................................................
        .............................................................................................................................................1..................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ...................................................................................................................................................5............
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    scroller.scrollBackgroundWithSpeed(0, spd * 8, scroller.BackgroundLayer.Layer3)
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Enterprise.setVelocity(20, 0)
})
function setSpeed (spd: number) {
    scroller.scrollBackgroundWithSpeed(0, spd * 30, scroller.BackgroundLayer.Layer0)
    scroller.scrollBackgroundWithSpeed(0, spd * 15, scroller.BackgroundLayer.Layer1)
    scroller.scrollBackgroundWithSpeed(0, spd * 8, scroller.BackgroundLayer.Layer3)
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    speed += -1
    if (speed < 0) {
        speed = 0
    }
    setSpeed(speed)
})
let projectile: Sprite = null
let Enterprise: Sprite = null
let speed = 0
speed = 1
startStars(1)
Enterprise = sprites.create(assets.image`Enterprise`, SpriteKind.Player)
Enterprise.setPosition(77, 90)
Enterprise.setStayInScreen(true)
music.play(music.createSong(assets.song`test`), music.PlaybackMode.UntilDone)
